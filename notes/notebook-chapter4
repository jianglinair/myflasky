第4章 Web表单

1. 处理POST 请求中提交的表单数据：
(1) request.form
(2) Flask-WTF

2. 表单类
使用 Flask-WTF 时,每个 Web 表单都由一个继承自 Form 的类表示。这个类定义表单中的
一组字段,每个字段都用对象表示。字段对象可附属一个或多个验证函数。验证函数用来
验证用户提交的输入值是否符合要求。
wtf.quick_form(form): 使用Bootstrap模板渲染传入模板中的表单

3. 重定向和用户会话
户输入名字后提交表单,然后点击浏览器的刷新按钮,会看到一个莫名其妙的警告,要求在再次提交表单
之前进行确认。之所以出现这种情况,是因为刷新页面时 浏览器会重新发送之前已经发送过的最后一个
请求。如果这个请求是一个包含表单数据的 POST 请求,刷新页面后会再次提交表单。
    使用 redirect() 和 session.

4. Flash消息
服务器向前端发送确认消息、警告或者错误提醒等，flash() 函数可实现这种效果。
    flash('Looks like you have changed your name!')

仅调用 flash() 函数并不能把消息显示出来,程序使用的模板要渲染这些消息。最好在
基模板中渲染 Flash 消息,因为这样所有页面都能使用这些消息。Flask 把 get_flashed_
messages() 函数开放给模板,用来获取并渲染消息。
在模板中使用循环是因为在之前的请求循环中每次调用 flash() 函数时都会生成一个消息,
所以可能有多个消息在排队等待显示。 get_flashed_messages() 函数获取的消息在下次调
用时不会再次返回,因此 Flash 消息只显示一次,然后就消失了。
